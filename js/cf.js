var checkWin=function(e,t,n){var r=!1,i=ru=rd=ld=0,s=!1,o=!1,u=!1,a=!1;for(var f=0;f<=3;f++)console.log("*for c = "+f+" , row = "+t),e[t][f]==e[t][f+1]&&typeof e[t][f]!="undefined"&&(console.log("if ((matrix[row][c] == matrix[row][c + 1]) && ((typeof matrix[row][c]) != undefined)) {"),e[t][f]==e[t][f+2]&&(console.log("if (matrix[row][c] == matrix[row][c + 2]) {"),e[t][f]==e[t][f+3]&&(console.log("if (matrix[row][c] == matrix[row][c + 3]) {"),r=!0)));if(!r)for(var l=0;l<=2;l++)e[l][n]==e[l+1][n]&&typeof e[l][n]!="undefined"&&e[l][n]==e[l+2][n]&&e[l][n]==e[l+3][n]&&(r=!0);if(!r){for(var c=1;c<=3;c++)typeof e[t-c]!="undefined"&&(typeof e[t-c][n-c]!="undefined"&&(e[t][n]==e[t-c][n-c]&&!s?i++:s=!0),typeof e[t-c][n+c]!="undefined"&&(e[t][n]==e[t-c][n+c]&&!o?ru++:o=!0)),typeof e[t+c]!="undefined"&&(console.log("has row below"),typeof e[t+c][n+c]!="undefined"&&(e[t][n]==e[t+c][n+c]&&!u?rd++:u=!0),typeof e[t+c][n-c]!="undefined"&&(console.log("has row below-left"),e[t][n]==e[t+c][n-c]&&!a?(console.log("has row below-lefta and equals"),ld++):(a=!0,console.log("has row below-lefta and NOT equals"))));if(i==3||ru==3||rd==3||ld==3)r=!0}return r};$(document).ready(function(){var e=new Audio,t=new Audio,n=new Audio;e.src="audio/click.ogg",t.src="audio/cheer.ogg",n.src="audio/loop.ogg",n.addEventListener("ended",function(){this.currentTime=0,this.play()},!1),setTimeout(function(){n.play()},500),$("div#next").addClass("disc_player disc_player0");var r=20,s=70,o=0,u=0,a=new Array(6);for(i=0;i<6;i++)a[i]=new Array(7);var f=function(n,i,f){u++;var l,c=6,h=r+n*(r+s);for(k=5;k>=0;k--)typeof a[k][n]!="undefined"&&(c=k);typeof c=="undefined"?l=5:l=c-1;if(c>0){var p=r+(l-1)*(r+s)+358;a[l][n]=i,$("#board-container").prepend('<div class="disc_player disc_player'+i+'" id="dp'+u+'" style="margin-left: '+h+"px; z-index: "+(u-42)+'"></div>'),$("#dp"+u).animate({top:"+="+p},200,function(){e.play()}),checkWin(a,l,n)?setTimeout(function(){t.play();var e=o?"YELLOW":"RED  ";alert("Player "+e+" wins!!!\n Click ok to reload page and try again..."),window.location.reload()},400):u==42?(alert("No winner here :(\n Hit ok to reload page..."),window.location.reload()):(o=o?0:1,$("div#next").removeClass("disc_player"+Math.abs(o-1)),$("div#next").addClass("disc_player"+o))}else u--},l=function(e){return function(){f(e,o,2)}};for(i=0;i<=6;i++)$("#controls").append('<button id="col'+i+'" class="control">&darr;</button>'),$("#col"+i).click(l(i));for(j=0;j<=41;j++)$("#board").append('<div class="hole"></div>')})